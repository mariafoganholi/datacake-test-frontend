<head>
  <link rel="stylesheet" href="app.component.css">
</head>

<main class="main">
  <title>TO DO LIST</title>
  <link rel="icon" type="image/x-icon" href="icon.ico">
  <div class="content">
    <div class="left-side">
      <h1>TO DO LIST</h1>

      <p></p>

      <form class="example-form">
        <mat-form-field class="example-full-width">
          <mat-label>Adicione sua tarefa...</mat-label>
          <input matInput [formControl]="addFormControl" placeholder=''>
        </mat-form-field>
        <button mat-icon-button (click)="createTodoItem()">
          <mat-icon>add</mat-icon>
        </button>
      </form>
      @for (item of list; track item) {
        <form class="example-form">
        <mat-checkbox class="example-margin" [checked]="item.checked" (change)="updateChecked(item.id, $event.checked)">
        </mat-checkbox>
        @if (editing === item.id) {
          <mat-form-field class="example-full-width">
            <input matInput [formControl]="updateFormControl" placeholder=''>
          </mat-form-field>
          <button mat-icon-button (click)="updateDescription(item.id)">
            <mat-icon>save</mat-icon>
          </button>
          <button mat-icon-button (click)="stopEditing()">
            <mat-icon>cancel</mat-icon>
          </button>
        }
        @else {
          <mat-form-field class="example-full-width">
            <input matInput [value]="item.description" disabled>
          </mat-form-field>
          <button id="buttonedit" mat-icon-button (click)="startEditing(item.id)">
            <mat-icon>edit</mat-icon>
          </button>
          <button id="buttondelete" mat-icon-button (click)="deleteTodoItem(item.id)">
            <mat-icon>delete</mat-icon>
          </button>
        }
      </form>
      }
    </div>
  </div>
</main>


<router-outlet />